{ 
  "general": { 
    "demo_title"            : "An Analysis and Improvement of the BLS-GSM Denoising Method",
    "input_description"     : [
      "This demo adds Gaussian noise to the input image and then it denoises it with the BLS-GSM algorithm." ],
    "param_description"     : [
            "<p> ",
            "The algorithm is run in 2 steps:",
            "<ol>",
                "<li> a Gaussian noise is added to the input image;</li>",
                "<li> the BLS-GSM algorithm is used to denoise the image.</li> ",
            "</ol>",
            "</p>" 
        ],
    "xlink_article"         : "http://www.ipol.im/pub/art/2014/86/"
  }, 
  "build": [
    {
      "build_type": "make",
      "url"       : "http://www.ipol.im/pub/art/2014/86/blsgsm_v1.0.zip", 
      "srcdir"    : "blsgsm_v1.0",
      "binaries"  : [ [".","blsgsm"] ],
      "flags"     : "OMP=1 -j4"
    }]
  ,
  "inputs": [ 
      {
          "type"            : "image", 
          "description"     : "input",
          "max_pixels"      : "1200 * 1200",
          "max_weight"      : "10 * 1024 * 1024",
          "dtype"           : "3x8i",
          "ext"             : ".png"
      }
    ],
  "params": [
    {
      "id"            : "sigma",
      "type"          : "selection_collapsed", 
      "label"         : "Level (standard deviation) of additive Gaussian noise",
      "values"        : {   "2":"2",   "5":"5",  "10":"10","15":"15","20":"20",
                            "25":"25","30":"30",
                            "35":"35","40":"40", "45":"45", "50":"50","55":"55", 
                            "60":"60","65":"65","70":"70","75":"75",
                            "80":"80","85":"85","90":"95","90":"95","100":"100"},
      "default_value" : "10"
    }
  ],
  
  "run": [
    "blsgsm input_0.sel.png $sigma denoised.png noisy.png diff.png 1"
  ],
  "archive":
    {
      "files" : { "input_0.orig.png"        : "uploaded image",
                  "input_0.sel.png"         : "selected subimage",
                  "noisy.png"               : "noisy image",
                  "denoised.png"            : "denoised image",
                  "diff.png"                : "difference image"
                },
      "params" :  [ "sigma" ]
    },
  "results": [
    {
      "type"          : "gallery",
      "label"         : [ "<h2>Images</h2>" ],
      "contents"      : 
        {
            "Noisy"             : "noisy.png",
            "Denoised"          : "denoised.png",
            "Original"          : "input_0.sel.png",
            "Difference"        : "diff.png"
        },
      "style"         : "height:{{sizeY*ZoomFactor}}px" 
    },
    {
      "type"          : "text_file", 
      "label"         : "<p>RMSE and PSNR</p>",
      "contents"      : "measures.txt",
      "style"         : "width:40em;height:5em;background-color:#eee"
    }
  ]
}