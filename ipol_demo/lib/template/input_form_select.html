
<!-- %if inputd: -->

<!-- <form action="${app.base_url + 'input_select_angular'}" method="get"> -->
<!-- <div ng-controller="ImagePickerCtrl"> -->

    <h3>Select Data</h3> 
    <p>
      Click on an image to use it as the algorithm input.
    </p>
    <form name="ThumbnailSizeForm" >
      <label>Thumbnail size (in pixels)</label>
      <select ng-options="ThumbnailSize for ThumbnailSize in [64, 128, 192, 256]" 
              ng-model="demo.general.thumbnail_size" >
<!--               ng-init="ThumbnailSize=demo.general.thumbnail_size"> -->
      </select>
      <label>Show Credits</label>
      <input  id="ShowCreditsCheckbox" type="checkbox" 
              ng-model="ShowCredits"  
              ng-init="ShowCredits=false" >
    </form>
    <div ng-repeat="blob_set in demoblobs.blobs" style="display:inline-block;vertical-align: top; ">

     <!--       create first the table with the correct number of inputs -->
      <table  style=' background-color:#EEEEEE;
                      margin:5px;
                      text-align:center;vertical-align:middle;'>
      <tr>
        <td   style=' margin:2px;padding:2px;'
              ng-repeat="idx in range(1,blob_set[0].size+1)" 
              ng-if="blob_set[idx].extension!='disabled'">
          <a  style=' margin:0;padding:0;' 
              ng-href="/{{demo_id}}/input_select_angular?{{blob_set[0].html_params}}">
          <div  
                class="select_input"
                ng-style="{'margin':'0','padding':'0',
                           'float':'left',
                           'width':demo.general.thumbnail_size+'px', 
                           'height':demo.general.thumbnail_size+'px',
                           'line-height':demo.general.thumbnail_size+'px',
                           'text-align':'center'}" ng-cloak>
            <img
                  ng-style="{'max-width':demo.general.thumbnail_size+'px',
                          'max-height':demo.general.thumbnail_size+'px', 'vertical-align':'middle'}"
                  ng-src="{{demoblobs.url_thumb}}/thumbnail_{{blob_set[idx].hash}}{{blob_set[idx].extension}}"
                  alt={{blob_set[idx].title}}
                  title="{{blob_set[idx].title+' (credits:'+blob_set[idx].credit+ ', tags:' + blob_set[idx].tag + ')'}}"
                  imageonfail="DisableBlobDisplay(blob_set,idx)"
                  />
          </div>
          </a>
        </td>
      </tr>
      <tr style="background-color:#EEEEEE;">
        <th colspan="{{blob_set[0].size}}" ng-style="{'max-width':demo.general.thumbnail_size*blob_set[0].size+'px' }">
        <!-- We could use the blob name but in general each image has the same title
             which is a better name <span>{{blob_set[0].set_name}}</span> -->
          {{blob_set[1].title}}
          <span ng-if="ShowCredits">
            <br/> <font size="-2"><i> <pre> &copy; {{blob_set[1].credit}} </pre></i></font>
          </span>
        </th>
      </tr>
      </table>
    </div>
    <div style='clear:both'> </div>
<P>

<!-- </form> -->

<!-- %endif -->
